{"version":3,"file":"index.js","mappings":"oHAAA,MAAM,EAA+BA,ECAxBC,EAAS,EAAAD,EAAEE,OAAO,CAC3BC,MAAO,EAAAH,EAAEE,OAAO,CACZE,aAAc,EAAAJ,EAAEK,SAASC,SAAS,4BAClCC,iBAAkB,EAAAP,EAAEK,SACpBG,QAAS,EAAAR,EAAEK,SAASI,SAAS,SAC7BC,cAAe,EAAAV,EAAEW,OAAO,EAAAX,EAAEK,SAASC,SAAS,cAAe,EAAAN,EAAEK,SAASC,SAAS,wBAEnFM,OAAQ,EAAAZ,EACHE,OAAO,CACRW,UAAW,EAAAb,EAAEc,OAAOC,SAASC,UAAUC,GAAKC,EAAEC,MAAMF,EAAG,EAAG,MAC1DG,KAAM,EAAApB,EAAEqB,KAAK,CAAC,QAAS,UAAW,QAAS,SAAU,UAAW,UAAW,WAAWZ,SAAS,WAC/Fa,aAAc,EAAAtB,EAAEc,OAAOC,SAASC,UAAUC,GAAKC,EAAEC,MAAMF,EAAG,EAAG,MAC7DM,OAAQ,EAAAvB,EAAEwB,cAAc,EAAAxB,EAAEqB,KAAK,CAAC,MAAO,SAAU,YAAa,cAAe,YAAa,EAAArB,EAAEK,SAASC,SAAS,yBAC9GmB,iBAAkB,EAAAzB,EAAEK,SAASI,SAAS,WACtCiB,gBAAiB,EAAA1B,EAAEW,OAAO,EAAAX,EAAEK,SAASC,SAAS,yBAA0B,EAAAN,EAAEE,OAAO,CAC7EyB,YAAa,EAAA3B,EAAEK,SACfuB,eAAgB,EAAA5B,EAAEc,OAAOC,SAASC,UAAUC,GAAKC,EAAEC,MAAMF,EAAG,EAAG,UAGlED,UAAUa,IACX,MAAMC,EAAmBD,EAAKhB,UAAY,GACpC,UACAgB,EAAKhB,UAAY,GACb,aACAgB,EAAKhB,UAAY,GACb,WACAgB,EAAKhB,UAAY,GACb,gBACA,UAClB,MAAO,IAAKgB,EAAMC,sBAEtBC,KAAM,EAAA/B,EAAEE,OAAO,CACX8B,UAAW,EAAAhC,EACNW,OAAO,EAAAX,EAAEK,SAASC,SAAS,aAAc,EAAAN,EAAEE,OAAO,CACnDyB,YAAa,EAAA3B,EAAEK,SACf4B,SAAU,EAAAjC,EAAEc,OAAOC,YAElBC,UAAUa,GAAQX,EAAEgB,OAAOL,EAAM,EAAGI,cAAeA,EAAW,IACnEE,sBAAuB,EAAAnC,EAAEW,OAAO,EAAAX,EAAEK,SAASC,SAAS,aAAc,EAAAN,EAAEK,SAASC,SAAS,kBACtF8B,mBAAoB,EAAApC,EAAEK,SAASI,SAAS,QCpChD4B,EAAE,KACA,EAAkBpC","sources":["src://tavern_helper_template/external var \"z\"","src://tavern_helper_template/src/kinako_character_card/schema.ts","src://tavern_helper_template/src/kinako_character_card/scripts/variable_structure/index.ts"],"sourcesContent":["const __WEBPACK_NAMESPACE_OBJECT__ = z;","export const Schema = z.object({\n    world: z.object({\n        current_time: z.string().describe('Format: YYYY-MM-DD HH:MM'),\n        current_location: z.string(),\n        weather: z.string().prefault('Sunny'),\n        recent_events: z.record(z.string().describe('Event name'), z.string().describe('Event description')),\n    }),\n    kinako: z\n        .object({\n        affection: z.coerce.number().transform(v => _.clamp(v, 0, 100)),\n        mood: z.enum(['happy', 'playful', 'pouty', 'sleepy', 'curious', 'tantrum', 'clingy']).prefault('playful'),\n        energy_level: z.coerce.number().transform(v => _.clamp(v, 0, 100)),\n        outfit: z.partialRecord(z.enum(['top', 'bottom', 'underwear', 'accessories', 'costume']), z.string().describe('Clothing description')),\n        current_activity: z.string().prefault('Playing'),\n        favorite_things: z.record(z.string().describe('Item or activity name'), z.object({\n            description: z.string(),\n            interest_level: z.coerce.number().transform(v => _.clamp(v, 0, 10)),\n        })),\n    })\n        .transform(data => {\n        const $affection_stage = data.affection < 20\n            ? 'distant'\n            : data.affection < 40\n                ? 'warming_up'\n                : data.affection < 60\n                    ? 'attached'\n                    : data.affection < 80\n                        ? 'deeply_bonded'\n                        : 'devoted';\n        return { ...data, $affection_stage };\n    }),\n    sato: z.object({\n        inventory: z\n            .record(z.string().describe('Item name'), z.object({\n            description: z.string(),\n            quantity: z.coerce.number(),\n        }))\n            .transform(data => _.pickBy(data, ({ quantity }) => quantity > 0)),\n        kinako_gifts_received: z.record(z.string().describe('Gift name'), z.string().describe('When received')),\n        relationship_notes: z.string().prefault(''),\n    }),\n});\n","import { registerMvuSchema } from 'https://testingcf.jsdelivr.net/gh/StageDog/tavern_resource/dist/util/mvu_zod.js';\nimport { Schema } from '../../schema';\n\n$(() => {\n  registerMvuSchema(Schema);\n});\n"],"names":["z","Schema","object","world","current_time","string","describe","current_location","weather","prefault","recent_events","record","kinako","affection","coerce","number","transform","v","_","clamp","mood","enum","energy_level","outfit","partialRecord","current_activity","favorite_things","description","interest_level","data","$affection_stage","sato","inventory","quantity","pickBy","kinako_gifts_received","relationship_notes","$"],"ignoreList":[],"sourceRoot":""}